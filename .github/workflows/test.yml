name: Install Dependencies and Run Tests

on: [push]

jobs:
  install-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.x'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        #ajout d'une nouvelle etape pour telecharger le jeu de donn√©e
    - name: Download file
      run: |
       python -c 'from script import download_file; download_file("https://data.humdata.org/dataset/955ab54d-7369-441b-8d39-a2cdb14a14a1/resource/46940d42-d135-4837-823a-50cd3097c8fe/download/millennium_development_goals_mdgs_indicators_sen.csv", "./data/dataset.csv")'


    #- name: Data Cleaning
     # run: |
     #  python -c 'from script import clean_data'
     #   python main.py
